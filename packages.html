<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aqua Safari Travelers - Packages</title>
    <link rel="stylesheet" href="./packages.css">
    <link rel="icon" href="./assets/favicon.ico" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://unpkg.com/intasend-inlinejs-sdk@3.0.4/build/intasend-inline.js"></script>
</head>
<body>
<header class="top">
    <img src="./assets/pla.jfif" width="180" height="60" alt="Plane Logo">
    <nav>
        <a href="./index.html" class="active">HOME</a>
        <a href="./about.html">ABOUT</a>
        <a href="./packages.html">PACKAGES</a>
        <a href="./contact.html" class="active">CONTACT</a>
        <a href="./signup.html" class="active">SIGN UP</a>
    </nav>
</header>

<section class="about">
    <h2>EXPLORE THE WORLD WITH US,<br>TRAVEL TO DESTINATIONS OF YOUR DREAMS</h2>
</section>

<hr />

<section class="holiday-cards">
    <h1 class="section-title">BOOK YOUR DESTINATIONS</h1>
    <div class="cards-container">
        <div class="card" data-price="3500">
            <img src="./assets/one.jfif" alt="Mombasa Island">
            <div class="card-content">
                <h2><em>Mombasa Island</em></h2>
                <p>3500 USD</p>
                <a href="#" class="btn">Book Now</a>
            </div>
        </div>
        <div class="card" data-price="4500">
            <img src="./assets/two.jfif" alt="Chile Island">
            <div class="card-content">
                <h2><em>Chile Island</em></h2>
                <p>4500 USD</p>
                <a href="#" class="btn">Book Now</a>
            </div>
        </div>
        <div class="card" data-price="5500">
            <img src="./assets/three.jfif" alt="Exotic Island">
            <div class="card-content">
                <h2><em>Exotic Island</em></h2>
                <p>5500 USD</p>
                <a href="#" class="btn">Book Now</a>
            </div>
        </div>
    </div>
</section>

<hr />

<section class="summary">
    <h2>Package Summary</h2>
    <p id="selectedPackage">No package selected</p>
    <p id="packagePrice"></p>
</section>

<section class="booking">
    <h2>Book Your Package</h2>
    <form id="bookingForm">
        <label for="numberOfPeople">Number of People:</label>
        <input type="number" id="numberOfPeople" name="numberOfPeople" min="1" max="10" value="1" required>

        <label for="totalPrice">Total Price:</label>
        <input type="text" id="totalPrice" name="totalPrice" readonly>

        <button type="button" onclick="calculatePrice()">Calculate Price</button>
        <button type="button" id="payButton" data-amount="0" data-currency="USD">Pay Now</button>
    </form>
</section>

<footer class="footer">
    <div class="footer-content">
        <div class="footer-section links">
            <h3>Quick Links</h3>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="packages.html">Packages</a></li>
                <li><a href="contact.html">Contact Us</a></li>
            </ul>
        </div>
        <div class="footer-section contact">
            <h3>Contact Us</h3>
            <p>Email: info@aquasafaritravelers.com</p>
            <p>Phone: +123-456-7890</p>
            <p>Address: 123 Ocean Drive, Coastal City, AA</p>
        </div>
        <div class="footer-section social">
            <h3>Follow Us</h3>
            <a href="#"><img src="./assets/fb.jfif" alt="Facebook" width="24"></a>
            <a href="#"><img src="./assets/tw.png" alt="Twitter" width="24"></a>
            <a href="#"><img src="./assets/ig.jfif" alt="Instagram" width="24"></a>
        </div>
    </div>
    <div class="footer-bottom">
        <p>&copy; 2024 Aqua Safari Travelers | All rights reserved.</p>
    </div>
</footer>

<script src="scripts.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const buttons = document.querySelectorAll(".btn");

    buttons.forEach(button => {
      button.addEventListener("click", function(event) {
        event.preventDefault();

        const card = this.closest(".card");
        selectedPackageName = card.querySelector("h2").textContent;
        selectedPackagePrice = parseFloat(card.getAttribute('data-price'));

        document.getElementById('selectedPackage').textContent = selectedPackageName;
        document.getElementById('packagePrice').textContent = `$${selectedPackagePrice}`;
        document.getElementById('payButton').setAttribute('data-amount', selectedPackagePrice);
        calculatePrice(); // Update the total price based on the default number of people
      });
    });

    function calculatePrice() {
        const numberOfPeople = document.getElementById('numberOfPeople').value;
        const totalPrice = selectedPackagePrice * numberOfPeople;
        document.getElementById('totalPrice').value = `$${totalPrice}`;
        document.getElementById('payButton').setAttribute('data-amount', totalPrice);
    }

    document.getElementById('numberOfPeople').addEventListener('input', calculatePrice);

    new window.IntaSend({
      publicAPIKey: "ISPubKey_test_8aacd2a6-ba3b-453a-913c-246fd6300376",
      live: false, //set to true when going live
    })
      .on("COMPLETE", (results) =>
        console.log("Payment completed successfully", results)
      )
      .on("FAILED", (results) =>
        console.log("Payment failed", results)
      )
      .on("IN-PROGRESS", (results) =>
        console.log("Payment in progress", results)
      );
  });
</script>
</body>
</html>
